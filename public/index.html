<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GIF Converter</title>
    <link rel="stylesheet" href="styles/index.css"/>
    <link rel="stylesheet" href="styles/global.css"/>
    <link rel="stylesheet" href="styles/components.css" />
    <link rel="stylesheet" href="styles/loader.css" />
  </head>

  <body>
    <section class="container">
      <div class="headerSection">
        <h1>WHAT THE GIF?</h1>
        <p>Insert your youtube URL, give it a name, select start time, subtitles, and go!</p>
      </div>

      <div class="selector">
        <div class="videoColumn">
          <div class="urlSection">
            <input id="videoUrl" placeholder="Paste YouTube URL" />
            <button id="loadVideo">Load video</button>
          </div>
          <iframe id="player"></iframe>
          <button id="convertGif">Create GIF</button>
        </div>

        <div class="controlsColumn">
          <div class="gifControls">
            <label for="gifTitle">GIF Title:</label>
            <input id="gifTitle" type="text" maxlength="50" placeholder="Enter GIF title" />
            
            <label for="startTime">Start Time (seconds):</label>
            <input
              id="startTime"
              type="number"
              min="0"
              step="1"
              value="0"
              placeholder="0"
            />
            <small>GIF duration: 5 sec</small>
          </div>

          <div class="subtitleOptions">
            <h3>Subtitle Options</h3>

            <label>
              <input
                type="radio"
                name="subtitles"
                value="none"
                checked
                onchange="updateSubtitleUI(this.value)"
              />
              No Subtitles
            </label>

            <label>
              <input
                type="radio"
                name="subtitles"
                value="custom"
                onchange="updateSubtitleUI(this.value)"
              />
              Custom Text
            </label>

            <label>
              <input
                type="radio"
                name="subtitles"
                value="upload"
                onchange="updateSubtitleUI(this.value)"
              />
              Upload .srt File
            </label>

            <div id="customTextBox">
              <textarea
                id="customText"
                rows="3"
                placeholder="Enter subtitle text..."
              ></textarea>
            </div>

            <div id="uploadBox">
              <input type="file" id="subtitleFile" accept=".srt" />
            </div>
          </div>
        </div>
      </div>

      <div id="result" class="hidden"></div>
    </section>

    <script> //only frontend, would clutter app.js
      function updateSubtitleUI(value) {
        document.getElementById("customTextBox").style.display =
          value === "custom" ? "block" : "none";
        document.getElementById("uploadBox").style.display =
          value === "upload" ? "block" : "none";
        document.getElementById("subtitleOption").value = value;
      }

      const hiddenInput = document.createElement("input");
      hiddenInput.type = "hidden";
      hiddenInput.id = "subtitleOption";
      hiddenInput.value = "none";
      document.body.appendChild(hiddenInput);
    </script>

    <script src="app.js"></script>
    <script src="components.js"></script>
  </body>
</html>